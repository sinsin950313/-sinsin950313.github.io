# 항목 22 : Pimpl 관용구를 사용할 때에는 특수 멤버 함수들을 구현 파일에서 정의하라.
##### Pimpl : Pointer + Implment - Pimple(여드름)이라 읽음

```cpp
// Old
class Widget
{
public:
    Widget();

private:
    std::string name;
    std::vector<double> data;
    Gadget g1, g2, g3;
};

// New
// h
class Widget
{
public:
    Widget();
    ~Widget();

private:
    struct Impl;
    Impl* pImpl;                    // C++98
    std::unique_ptr<Impl> pImpl;    // C++11
};

// cpp
#include "Widget.h"
#include "Gadget.h"
#include <string>
#include <vector>

struct Widget::Impl
{
    std::string name;
    std::vector<double> data;
    Gadget g1, g2, g3;
};

// C++98
Widget::Widget() : pImpl(new Impl) { }
Widget::Widget() : pImpl(std::make_unique<Impl>()) { }

// C++98
Widget::~Widget() { delete pImpl; }
```
header에 선언했던 멤버 자료 형식을 cpp파일로 옮기는 기법
<br>
컴파일 타임을 줄이고 클라이언트가 헤더의 내용에 의존하는 것을 줄일 수 있음(Widget의 내부 정보를 구현하는 파일에서만 확인할 수 있음)
<br>
header에서 선언한 멤버 자료 형식을 cpp파일로 옮기고 객체의 동적 할당과 삭제를 명시해야 함.