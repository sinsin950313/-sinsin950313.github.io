# 개요
```
나쁜 코드에는 주석을 달지 마라. 새로 짜라.
```
잘 달린 주석은 유용하지만, 경솔하고 근거 없는 주석은 코드를 이해하기 어렵게 만든다. 오래되고 조잡한 주석은 거짓과 잘못된 정보를 퍼뜨린다. 주석은 필요악이다. 코드로 의도를 잘 표현할 수 있다면 주석은 필요 없다. 우리는 코드로 의도를 표현하는 것에 실패할 때 주석을 사용한다.
<br>
주석이 필요한 상황에 처하면 코드로 의도를 표현할 방법이 없을지 다시 한번 생각해 봐야 한다.
<br>
코드는 끊임없이 변화하지만 주석은 코드를 따라가지 못하므로 코드에서 부정확한 정보를 줄 가능성이 높아진다. 부정확한 주석은 없는 주석보다 훨씬 나쁘다.

# 주석은 나쁜 코드를 보완하지 못한다.
코드에 주석을 추가하는 일반적인 이유는 코드 품질이 나쁘기 때문이다.

# 코드로 의도를 표현하라.
```cpp
if((employee.flags & HOURLY_FLAG) && (employee.age > 65)) { ... }
if(employee.isEligibleForFullBenefits()) { ... }
```
코드만으로 의도를 설명하기 어려운 경우가 존재하지만, 그렇다고 의도를 표현하는데 코드가 훌륭한 수단이 아니라는 뜻은 아니다.
<br>
주석 대신 함수로 만들어 표현해도 충분하다.

# 좋은 주석
## 법적인 주석
저작권 정보, 소유권 정보 등을 의미하는 법적인 주석.

## 정보를 제공하는 주석
기본적인 정보를 주석으로 제공하면 편리하지만, 이 역시 함수 이름이나 클래스를 통해 표현하는 것이 더 좋고 깔끔하다.

## 의도를 표현하는 주석
구현 이해를 돕는 것을 넘어 결정에 깔린 의도를 설명하는 주석.
<br>
개인적으로는 이 역시도 함수 이름으로 분리해서 표현해도 문제 없을 것 같음.

## 의미를 명료하게 밝히는 주석
모호한 인수나 반환값의 의미를 읽기 좋게 표현하는 주석. 이 값을 명료하게 이름을 바꾼다면 좋겠지만, 표준 라이브러리나 변경하지 못하는 코드라면 의미를 밝히는 주석이 유용하다.
<br>
단, 주석이 올바른지 검증하는 것은 항상 어려우므로 의미를 명료히 밝히는 주석은 반대로 위험한 주석이기도 하다.

## 결과를 경고하는 주석
다른 프로그래머에게 결과를 경고할 목적으로 사용하는 주석.
<br>
확실히 이런 주석은 함수나 클래스명으로 대체하기는 힘들어보임.

## TODO 주석
앞으로 할 일을 알리는 주석.
<br>
프로그래머가 필요하다고 여기지만 당장 구현하기 어려운 업무를 기술, 더 이상 필요 없는 기능을 삭제하라는 알림, 누군가에게 문제를 봐달라는 요청, 더 좋은 이름을 떠올려달라는 부탁, 앞으로 발생할 이벤트에 맞춰 코드를 고치라는 주의 등.
<br>
단, 정기적으로 TODO를 점검해 삭제하는 것이 좋음.

## 중요성을 강조하는 주석
자칫 대수롭지 않다고 여겨질 무언가의 중요성을 강조하는 용도

## 공개 API에서 Javadocs
unreal의 경우 Doxygen을 사용하는 것으로 알고 있음.
<br>
다만 이 역시 독자를 오도하거나, 잘못 위치하거나, 그릇된 정보를 전달할 가능성은 언제나 존재함.

# 나쁜 주석
대다수의 주석이 이 범주에 속하는데, 일반적으로 허술한 코드를 지탱하거나, 엉성한 코드를 변명하거나, 미숙한 결정을 합리화하는 등 프로그래머가 주절거리는 독백에서 크게 벗어나지 못한다.

## 주절거리는 주석
특별한 이유 없이 의무감 또는 프로세스에 의해 작성하는 주석. 주석을 달기로 결정했다면 최선을 다해서 설명해야 한다.

## 같은 이야기를 중복하는 주석
코드에 적어놓은 의도를 그대로 해석해서 적어넣은 주석.
<br>
주석이 코드보다 많은 정보를 제공하지 못하고, 코드를 정당화하지도 않고, 코드보다 읽기 쉽지도 않다.
<br>
실제로는 코드보다 부정확하여 독자가 함수를 대충 이해하고 넘어가게 만든다.

## 오해할 여지가 있는 주석
의도는 좋았지만 프로그래머가 엄밀하게 주석을 달지 못하기도 한다. 이로 인해 살짝 잘못된 정보를 담은 주석이 작성되는 문제가 발생할 수 있음.

## 의무적으로 다는 주석
모든 함수에 Javadocs를 달거나 모든 변수에 주석을 달아야 한다는 규칙. 코드를 복잡하게 만들고, 거짓말을 퍼뜨리고, 혼동과 무질서를 초래한다. 이는 위에서 지적한 문제들을 유발할 가능성을 만든다.

## 이력을 기록하는 주석
모듈 편집 시점에 주석을 추가하는 경우. 일종의 로그가 되는데, 최근에는 소스 코드 관리 시스템이 잘 되어있으므로 작성할 필요가 없음.

## 있으나 마나한 주석
너무나 당연한 사실을 언급하며 새로운 정보를 제공하지 못하는 주석. 생성자, 소멸자를 알려주거나 중복을 작성하거나하는 경우.
<br>
이러한 주석은 개발자가 주석을 무시하도록 만들고 코드가 바뀌면 주석은 거짓말로 변한다.

## 무서운 잡음
때로는 Javadocs도 잡음이다.

## 함수나 변수로 표현할 수 있다면 주석을 달지 마라
주석이 필요하지 않도록 코드를 개선하는 시도를 우선 하는 것이 좋음.

## 위치를 표시하는 주석
```cpp
// Actions ////////////////////
```
단순히 눈에 띄도록 하는 용도의 주석. 해당 지점을 기준으로 특정 기능을 모아놓으면 유용할 수 있으나, 결국 가독성만 낮추므로 제거하는 것이 좋다.
<br>
반드시 필요할 때만, 아주 드물게 강조의 용도로 사용하고 기능을 집중할수는 있음.

## 닫는 괄호에 다는 주석
```cpp
while()
{
    ...
    // 매우 긴 코드
    ...
} // while
```
중첩이 심하고 장황한 함수라면 해당 닫는 괄호가 무엇을 닫는지 정보를 줘서 유용하지만, 이 책에서는 작고 캡슐화된 코드를 지향하므로 이 경우에는 불필요함.

## 공로를 돌리거나 저자를 표시하는 주석
소스 코드 관리 시스템에 누가 언제 무엇을 추가했는지 다 기록되므로 필요 없음.

## 주석으로 처리한 코드
주석으로 처리한 코드는 다른 사람들이 지우기를 주저한다. 이유가 있어서 남겨놓았으리라고, 중요하니까 지우면 안된다고 생각한다. 이렇게 쓸모 없는 코드가 점차 쌓여간다.
<br>
과거에는 주석으로 처리한 코드가 유용했지만, 이제는 그냥 소스 코드 관리 시스템이 소스 코드를 기억한다.

## HTML 주석
주석이 읽기 쉬워야 하는 편집기, IDE에서조차 읽기 어렵다.
<br>
Javadocs같은 도구로 주석을 뽑아 문서화할 작정이라면 이는 프로그래머가 하는게 아니라 도구가 해야 한다.

## 전역 정보
근처에 있는 코드만 기술해야지 시스템의 어딘가에 있는 정보를 기술할 경우 코드가 변해도 주석이 변한다는 보장을 할 수 없고 주석을 통해 얻은 정보가 현 코드에서 사용할 수 없음.

## 너무 많은 정보
코드와 관련 없는 정보를 늘어놓은 경우.

## 모호한 관계
주석과 주석이 설명하는 코드 둘 사이의 관계는 명확해야 한다. 이왕 공들여 주석을 달았다면, 독자가 주석과 코드를 읽어보고 무슨 소리인지 이해할 수 있어야 한다.

## 함수 헤더
짧고 한 가지만 수행하며 이름을 잘 붙인 함수가 주석보다 좋다.

## 비공개 코드에서 Javadocs
비공개 코드에서 Javadocs는 쓸모가 없다. 코드만 보기 산만해진다.