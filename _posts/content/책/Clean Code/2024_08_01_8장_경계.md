# 개요
시스템에 들어가는 모든 소프트웨어를 직접 개발하는 경우는 드물다. 어떤 식으로든 이 외부 코드를 우리 코드에 깔끔하게 통합해야만 한다. 이 장에서는 소프트웨어 경계를 깔끔하게 처리하는 기법과 기교를 살펴본다.

# 외부 코드 사용하기
인터페이스 제공자는 최대한 적용성을 넓히기 위해 애쓰고, 사용자는 자신의 요구에 집중하는 인터페이스를 원한다. 이러한 차이로 인해 시스템 경계에서 문제가 생길 소지가 많다.
<br>
외부 container를 사용해서 사용자가 삭제할 수 없는 데이터를 저장하려 해도 외부 container에서 삭제를 지원한다면 소용이 없듯이 사용자에게 필요하지 않는 기능까지 제공하는 것을 막을 수 없다.
<br>
대신 외부 인터페이스를 Warpping하여 제공하고자 하는 기능만을 제공하는 클래스를 구현하는 방식은 사용자에게 설계 규칙과 비지니스 규칙을 강제할 수 있으므로 해당 방식을 추천한다.
<br>
즉, 경계 인터페이스를 이용할 때는 이를 이용하는 클래스나 클래스 계열 밖으로 노출되지 않도록 주의해야 한다.

# 경계 살피고 익히기
외부 코드를 사용하면 적은 시간에 더 많은 기능을 출시하기 쉬워진다. 하지만 이를 사용하기 전에는 사용하고자하는 코드를 충분히 테스트해봐야 한다.
<br>
충분히 테스트를 하지 않을 경우 발생한 버그가 우리쪽 버그인지 라이브러리 버그인지 알아내기가 힘든 문제가 있음.

외부 코드를 익히기 위해 테스트를 만드는 것을 학습 테스트라고 하며, 프로그램에서 사용하고자 하는 방식대로 외부 AIP를 호출하여 통제된 환경에서 API를 제대로 이해하는지 확인하는 방식.
<br>
이를 통해 충분히 익혔다면 Warpper 클래스를 이용해 해당 기능을 캡슐화한다면 경계 인터페이스를 몰라도 사용이 가능하다.

# 학습 테스트는 공짜 이상이다
학습 테스트는 필요한 지식만 확보하는 손쉬운 방법.
<br>
학습 테스트는 원하는 기능을 수행하는 인터페이스를 먼저 호출한 후 지속적인 컴파일 시도를 통해 필요한 최소한의 조건만을 맞추는 형태의 테스트를 의미.
<br>
학습 테스트는 패키지가 예상대로 도는지를 검증.
<br>
패키지가 갱신되어도 학습 테스트를 통해 해당 패키지가 여전히 원하는대로 작동하는지를 확인할 수 있음.

# 아직 존재하지 않는 코드를 사용하기
때로는 아직 구현되지 않은 외부 기능이 필요한 상황이 있을 수 있음. 이를 위해서는 Mock Up 코드를 작성하여 인터페이스를 미리 정의한 후 해당 인터페이스를 이용해 코드를 구현한다.
<br>
이후 외부 기능이 실제로 구현되면 Mock Up으로 구현해둔 인터페이스를 이용해 실제 기능은 Adapter 패턴을 이용한다면 API 사용을 캡슐화하여 수정할 코드를 한데 모으고 기존 코드에 변화를 최소화할 수 있음.

# 깨끗한 경계
경계에서는 끊임없이 변경 등의 흥미로운 일이 많이 벌어지는데, 소프트웨어 설계가 우수하다면 변경에 많은 투자와 재작업이 필요하지 않음.
<br>
통제하지 못하는 코드를 사용할 때에는 너무 많은 투자를 하거나 향후 변경 비용이 지나치게 커지지 않도록 주의해야 함.
<br>
경계에 위치하는 코드는 깔끔히 분리하고, 기대치를 정의하는 테스트 케이스도 작성하면 외부 패키지를 세세하게 알 필요 없이 통제 가능한 우리 코드에 의존할 수 있음.
<br>
외부 패키지를 호출하는 코드를 가능한 줄여 경계를 관리해야 함.