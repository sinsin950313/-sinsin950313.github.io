---
title: "1. 협력하는 객체들의 공동체"
date: 2023-12-25
categories: ["책", "객체지향의 사실과 오해"]
tags: ["객체지향의 사실과 오해"]
---
# 서문

## 객체지향을 향하는 4가지 걸음
1. 클래스가 아니라 객체를 바라보는 것
2. 객체를 독립적인 존재가 아닌 기능을 구현하기 위해 협력하는 공동체의 존재로 바라보는 것
3. 협력에 참여하는 객체들에게 적절한 역할과 책임을 부여하는 것
4. 위 개념을 프로그래밍 언어라는 틀에 담아내는 기술을 익히는 것

## 책의 구성

### 협력하는 객체들의 공동체
객체지향 패러디임의 핵심은 클래스나 상속보다는 자율적인 객체들의 협력

### 이상한 나라의 객체
객체는 상태와 행동, 식별자를 갖는 것

### 타입과 추성화
추상화란 단순화를 의미, 동적인 객체들을 단순화시켜 정적인 타입으로 갈무리하는 것
<br>
타입의 개념을 이해하면 객체를 구현하기 위해 클래스를 사용하는 이유를 이해할 수 있음

### 역할, 책임, 협력
객체들은 협력에 참여하기 위해 특정한 역할을 맡고 역할에 적합한 책임을 수행

### 책임과 메시지
훌륭한 메시지가 훌륭한 객체지향 설계의 기반
<br>
객체의 자율성과 설계의 유연성은 얼마나 훌륭한 메시지를 선택하느냐에 따라 달림

### 객체 지도
객체지향이 구조와 기능이라는 두 가지 관점을 어떻게 조화시켰는가
<br>
구조는 기능에 비해 변화에 더 안정적
<br>
객체지향 패러다임은 객체들의 구조안에 기능을 녹임으로써 변화에 안정적인 소프트웨어 개발

도메인 모델과 객체지향 패러다임 사이의 관계도 설명

# 1. 협력하는 객체들의 공동체
```
시너지를 생각하라. 전체는 부분의 합보다 크다.
```

처음 객체지향에 입문하는 사람들은 흔히 객체지향이란 현실 속 사물을 모방하여 소프트웨어로 구현하는 것으로 생각하지만 객체지향 프로그래밍과 현실 속 사물의 모방은 연관성이 희미하다
<br>
단지, 실세계에 대한 비유가 객체지향의 다양한 측면을 이해하고 학습하는데 효과적이기 때문에 이렇게 설명하는 것일 뿐 소프트웨어를 통한 문제 해결방법으로서는 그다지 실용적이지는 않다

커피 공화국에서 커피를 주문하고 제조하는 과정은 역할, 책임, 협력이라는 3가지 개념이 조화를 이루어 만들어 낸다
<br>
손님, 캐시어, 바리스타는 협력 관계가 존재
<br>
주문하는 손님, 주문을 받는 캐시어, 커피를 제조하는 바리스타라는 역할 관계가 존재
<br>
커피를 주문하는 책임을 갖는 손님, 손님의 주문을 받는 책임을 갖는 캐시어, 주문된 커피를 제조하는 책임을 갖는 바리스타

###### _재미있는 점은 주문하는 책임을 갖는 객체도 존재한다는 점인 듯?_

### 요청과 응답으로 구성된 협력
스스로 해결할 수 없는 문제는 문제를 해결할 수 있는 객체에 도움을 요청(Request)하고, 요청을 받은 객체는 요청에 응답(Response)한다

요청과 응답을 통해 구성된 협력으로 문제를 해결

### 역할과 책임
협력하는 과정에서 역할과 책임을 부여받는다
<br>
손님이라는 역할을 부여받으면 커피를 주문할 책임을 맡는다
<br>
특정한 역할은 특정한 책임을 암시

#### 여러 사람이 동일한 역할을 수행할 수 있음
손님, 캐시어, 바리스타는 특정한 사람이 아니더라도 각자가 맡은 역할을 책임있게 수행한다면 누가되었든 상관 없음

#### 즉, 역할은 대체 가능성을 의미

#### 책임을 수행하는 방법은 자율적으로 선택 가능
동일한 요청에 대해 서로 다른 방식으로 응답할 수 있는 능력을 다형성(Polymorphism)이라 한다

#### 한 사람이 동시에 여러 역할을 수행할 수 있음
캐시어와 바리스타가 굳이 각각 한사람일 필요는 없음

## 역할, 책임, 협력

### 기능을 구현하기 위해 협력하는 객체들
위 문단에서 사람을 객체로, 에이전트의 요청을 메시지로, 에이전트가 요청을 처리하는 방법을 메서드로 바꾸어서 객체지향 패러다임을 생각

### 역할과 책임을 수행하며 협력하는 객체들
객체지향은 적절한 객체에게 적절한 책임을 할당하는 것에서부터 시작
<br>
역할은 관련성 높은 책임의 집합

## 협력 속에 사는 객체
이러한 역할, 책임, 협력에 참여하는 주체는 객체

##### 객체의 덕목

##### 객체는 충분히 협력적이어야 한다.
스스로 모든것을 처리하는 전지전능한 객체는 복잡도가 높아진다
<br>
단, 협력적이라는 말은 수동적인 존재를 의미하지는 않음. 객체는 명령에 복종하는 것이 아니라 요청에 응답한다
<br>
즉, 응답 방식, 응답 여부 등을 객체 스스로 결정할 수 있어야 한다

##### 객체는 충분히 자율적이어야 한다.
객체는 자기 스스로의 원칙에 따라 어떤 일을 하거나 자기 스스로를 통제할 수 있어야 한다
<br>
손님은 캐시어에게 어떤식으로 바리스타에게 주문 내역을 전달하라고 지시하지 않는다

### 상태와 행동을 함꼐 지닌 자율적인 객체
객체는 상태(State)와 행동(Behaviour)를 갖고있는 실체
<br>
즉, 객체가 협력에 참여하기 위해 어떤 행동을 해야한다면, 그 행동을 하는데 필요한 상태도 함께 지니고 있어야 한다

객체는 다른 객체가 무엇(What)을 수행하는지는 알 수 있지만, 어떻게(How) 수행하는지는 알 수 없다
<br>
즉, 객체는 자신의 상태를 직접 관리하고 상태를 기반으로 스스로 판단하고 행동할 수 있어야 한다
<br>
객체는 상태와 행동을 하나의 단위로 묶는 자율적인 존재

전통적인 개발 방법은 데이터와 프로세스를 구분하지만 객체지향은 데이터와 프로세스를 객체라는 하나의 틀 안에 묶어놓음으로써 객체의 자율성을 보장

### 협력과 메시지
객체는 메시지를 통해 다른 객체와 협력
<br>
한 객체가 다른 객체에게 요청하는 것을 메시지를 전송한다 말하고, 다른 객체로부터 요청을 받는 것을 메시지를 수신한다고 말한다
<br>
전송하는 객체를 송신자(Sender), 수신하는 객체를 수신자(Receiver)라고 한다

### 메서드와 자율성
객체가 수신한 메시지를 처리하는 방법을 메서드(Method)라고 부른다
<br>
즉, 객체에게 메시지를 전송하면 수신한 객체는 메시지에 대응하는 특정 메서드를 통해 실행된다

메시지를 수신한 객체가 실행시간에 메서드를 선택할 수 있다는 점이 객체지향의 자율성
<br>
절차지향의 경우 프로시저 호출에 대한 실행코드를 컴파일 시간에 결정

## 객체지향의 본질

##### 객체지향이란 시스템을 상호작용하는 자율적인 객체들의 공동체로 바라보고 객체를 이용해 시스템을 분할하는 방법
##### 자율적인 객체란 상태와 행위를 함께 지니며 스스로 자기 자신을 책임지는 객체를 의미
##### 객체는 시스템의 행위를 구현하기 위해 다른 객체와 협력한다. 각 객체는 협력 내에서 정해진 역할을 수행하며 역할은 관련된 책임의 집합이다.
##### 객체는 다른 객체와 협력하기 위해 메시지를 전송하고 메시지를 수신한 객체는 메시지를 처리하는데 적합한 메서드를 자율적으로 선택한다

### 객체를 지향하라
지나치게 클래스를 강조하는 프로그래밍 관점은 객체의 캡슐화를 저해하고 클래스를 서로 강하게 결합시킨다
<br>
애플리케이션을 협력하는 객체들의 공동체가 아닌 클래스로 구성된 설계도로 보는 관점은 유연하고 확장 가능한 애플리케이션의 구축을 방해한다

객체지향에서 중요한 것은 어떤 객체들이 어떤 메시지를 주고받으면서 협력하는 가이다
<br>
즉, 클래스들의 정적인 관계가 아니라 메시지를 주고받는 객체들의 동적인 관계가 중요하다